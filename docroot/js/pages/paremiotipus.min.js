(()=>{const e=()=>{const e=document.querySelector("#toggle-all"),t=e.textContent.startsWith("Contrau");e.textContent=t?"Desplega-ho tot":"Contrau-ho tot",e.title=(t?"Mostra":"Amaga")+" els detalls de cada font";for(const e of document.querySelectorAll("details"))e.toggleAttribute("open",!t)},t=document.querySelector("#toggle-all");t&&("2"===localStorage.getItem("always_expand")&&e(),t.addEventListener("click",(t=>{e(),localStorage.setItem("always_expand",t.target.textContent.startsWith("Desplega")?"2":"1")})));const o=document.querySelector("#share"),r=document.querySelector(".share-icons");o.addEventListener("click",(e=>{r.toggleAttribute("hidden"),e.stopPropagation()})),document.addEventListener("click",(()=>{r.setAttribute("hidden",!0)})),document.querySelector(".share-icon.copy").addEventListener("click",(function e(t){t.preventDefault(),t.stopPropagation();const o=t.currentTarget,r=o.querySelector(".share-title"),n=o.querySelector(".share-image");navigator.clipboard.writeText(window.location.href).then((()=>{r.textContent="Copiat",n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4z"/></svg>',o.removeAttribute("href"),o.removeEventListener("click",e)})).catch((()=>{r.textContent="Error"}))}));for(const e of document.querySelectorAll(".audio"))e.addEventListener("click",(t=>{t.preventDefault(),e.firstElementChild.play()}));for(const e of document.querySelectorAll('[role="button"]'))e.addEventListener("keydown",(t=>{" "===t.key&&(t.preventDefault(),e.click())}))})();
