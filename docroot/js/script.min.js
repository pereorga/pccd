/*! Desenvolupat per Pere Orga <pere@orga.cat>, 2020. */
window.dataLayer=window.dataLayer||[];const gtag=function(){dataLayer.push(arguments)};gtag("js",new Date),gtag("config","G-CP42Y3NK1R"),function(){"use strict";const e=function(){const e=document.querySelector("#toggle-all"),t=e.textContent.startsWith("Contrau");e.textContent=t?"Desplega-ho tot":"Contrau-ho tot",e.setAttribute("title",(t?"Mostra":"Amaga")+" els detalls de cada font");for(const e of document.querySelectorAll("details"))t?e.removeAttribute("open"):e.setAttribute("open","true")},t=document.querySelector("#cerca");if(t){const e=document.querySelector("#variant"),o=document.querySelector("#sinonim"),n=document.querySelector("#equivalent"),r=document.querySelector(".page-link[rel=next]"),c=document.querySelector(".page-link[rel=prev]");""===t.value&&(e.checked="2"!==localStorage.getItem("variant"),o.checked="1"===localStorage.getItem("sinonim"),n.checked="1"===localStorage.getItem("equivalent")),e.addEventListener("change",(()=>{localStorage.setItem("variant",e.checked?"1":"2")})),o.addEventListener("change",(()=>{localStorage.setItem("sinonim",o.checked?"1":"")})),n.addEventListener("change",(()=>{localStorage.setItem("equivalent",n.checked?"1":"")})),document.addEventListener("keydown",(e=>{e.ctrlKey&&("ArrowRight"===e.key&&r?location.assign(r.getAttribute("href")):"ArrowLeft"===e.key&&c&&location.assign(c.getAttribute("href")))}));const a=document.querySelector("#mostra");a&&a.addEventListener("change",(()=>{document.querySelector("form[role=search]").submit()}))}else{const t=document.querySelector("#toggle-all");t&&("2"===localStorage.getItem("always_expand")&&e(),t.addEventListener("click",(t=>{e(),localStorage.setItem("always_expand",t.target.textContent.startsWith("Desplega")?"2":"1")})));for(const e of document.querySelectorAll(".audio"))e.addEventListener("click",(t=>{t.preventDefault(),e.firstElementChild.play()}))}if("ontouchstart"in window||window.addEventListener("pageshow",(()=>{t&&t.value&&t.select()})),"1"!==localStorage.getItem("accept_cookies")){const e=document.querySelector("#snackbar");e.classList.remove("d-none"),e.querySelector("button").addEventListener("click",(()=>{e.remove(),localStorage.setItem("accept_cookies","1")}))}document.querySelector("#navbar-toggle").addEventListener("click",(()=>{document.querySelector("#menu").classList.toggle("d-none")})),document.addEventListener("keydown",(e=>{!e.ctrlKey||"/"!==e.key&&"7"!==e.key||location.assign("/")}));const o=new Set;for(const e of document.querySelectorAll("a"))if(e.href&&e.origin===location.origin)for(const t of["mouseenter","touchstart"])e.addEventListener(t,(()=>{if(!o.has(e.href)){o.add(e.href);const t=document.createElement("link");t.href=e.href,t.rel="prefetch",document.head.append(t)}}),"touchstart"===t&&{passive:!0});for(const e of document.querySelectorAll('[role="button"]'))e.addEventListener("keydown",(t=>{" "===t.key&&(t.preventDefault(),e.click())}))}();
