/*! Desenvolupat per Pere Orga <pere@orga.cat>, 2020. */
window.dataLayer=window.dataLayer||[];const gtag=function(){dataLayer.push(arguments)};gtag("js",new Date),gtag("config","G-CP42Y3NK1R"),function(){"use strict";const e=function(){const e=document.querySelector("#toggle-all");if(e.innerHTML.includes("desplega")){for(const e of document.body.querySelectorAll("details"))e.setAttribute("open","true");e.innerHTML=e.innerHTML.replace("desplega","contrau")}else{for(const e of document.body.querySelectorAll("details"))e.removeAttribute("open");e.innerHTML=e.innerHTML.replace("contrau","desplega")}};if(document.querySelector("#cerca")){"2"===localStorage.getItem("variant")&&(document.querySelector("#variant").checked=!1),"1"===localStorage.getItem("sinonim")&&(document.querySelector("#sinonim").checked=!0),"1"===localStorage.getItem("equivalent")&&(document.querySelector("#equivalent").checked=!0);const e=document.querySelector(".page-link[rel=next]"),t=document.querySelector(".page-link[rel=prev]"),n=navigator.userAgent.includes("Macintosh");e&&e.setAttribute("title",n?"Pàgina següent (Ctrl ⇧ →)":"Pàgina següent (Ctrl →)"),t&&t.setAttribute("title",n?"Pàgina anterior (Ctrl ⇧ ←)":"Pàgina anterior (Ctrl ←)"),document.addEventListener("keydown",(function(n){n.ctrlKey&&("/"===n.key||"7"===n.key?document.querySelector("#cerca").focus():"ArrowRight"===n.key&&e?document.location.assign(e.getAttribute("href")):"ArrowLeft"===n.key&&t&&document.location.assign(t.getAttribute("href")))}));const o=document.querySelector("#mostra");o&&o.addEventListener("change",(function(){document.querySelector("#search-form").submit()})),document.querySelector("#variant").addEventListener("change",(function(){localStorage.setItem("variant",this.checked?"1":"2")})),document.querySelector("#sinonim").addEventListener("change",(function(){localStorage.setItem("sinonim",this.checked?"1":"")})),document.querySelector("#equivalent").addEventListener("change",(function(){localStorage.setItem("equivalent",this.checked?"1":"")}))}else{document.addEventListener("keydown",(function(e){!e.ctrlKey||"/"!==e.key&&"7"!==e.key||document.location.assign("/")})),Array.prototype.filter.call(document.querySelectorAll(".audio"),(function(e){e.addEventListener("click",(function(e){e.preventDefault(),this.firstElementChild.play();const t=document.querySelectorAll("audio");for(const e of t)e.setAttribute("preload","auto")}))}));const t=document.querySelector("#toggle-all");t&&(t.addEventListener("click",(function(t){const n=t.target.innerHTML.includes("contrau");e(),n?localStorage.setItem("always_expand","2"):localStorage.setItem("always_expand","1")})),"2"===localStorage.getItem("always_expand")&&e(),t.classList.remove("d-none"))}window.addEventListener("pageshow",(function(){const e=document.querySelector("#cerca");e&&e.value&&!("ontouchstart"in window||navigator.maxTouchPoints>0)&&e.select()})),"1"!==localStorage.getItem("accept_cookies")&&(document.querySelector("#snackbar").classList.remove("d-none"),document.querySelector("#snackbar-action").addEventListener("click",(function(){document.querySelector("#snackbar").remove(),localStorage.setItem("accept_cookies","1")}))),document.querySelector("#navbar-toggle").addEventListener("click",(function(){document.querySelector("#menu").classList.toggle("collapse")})),/iPad|iPhone|iPod/.test(navigator.userAgent)&&document.documentElement.classList.add("ios")}();
