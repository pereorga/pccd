{
  "name": "pccd",
  "private": true,
  "description": "Paremiologia catalana comparada digital",
  "license": "AGPL-3.0-only",
  "repository": "https://github.com/Softcatala/pccd.git",
  "author": "Pere Orga Esteve <pere@orga.cat>",
  "homepage": "https://pccd.dites.cat",
  "engines": {
    "node": ">=18.0.0"
  },
  "scripts": {
    "analysis": "concurrently -g --timings 'yarn:analysis:*'",
    "analysis:phan": "tools/composer run phan",
    "analysis:phpcd": "tools/composer run phpcpd",
    "analysis:phpstan": "tools/composer run phpstan",
    "analysis:psalm": "tools/composer run psalm && tools/composer run psalm-taint-analysis",
    "analysis:rector": "tools/composer run rector-lint",
    "build:assets": "scripts/build_assets.sh && yarn run check:size",
    "build:docker": "scripts/docker_build.sh",
    "build:docker:spx": "scripts/docker_build.sh --build-arg profiler=spx",
    "build:docker:xhprof": "scripts/docker_build.sh --build-arg profiler=xhprof",
    "check:certificate": "scripts/check_certificate.sh",
    "check:code": "tools/composer run parallel-lint && concurrently -g --timings yarn:check:size yarn:lint yarn:analysis",
    "check:sitemap": "scripts/check_sitemap.sh",
    "check:size": "size-limit",
    "clean:temp": "find tmp/ -type f -maxdepth 1 \\( -name '*.html' -o -name '*.json' ! -name assets-sizes.json \\) -delete && find . -maxdepth 1 -type f -name '*.html' -delete",
    "convert:db": "scripts/convert_db.sh",
    "decompress:images": "scripts/decompress_images.sh",
    "delete:images": "rm -f docroot/img/imatges/* docroot/img/obres/*",
    "export:asset-sizes": "size-limit --json | jq '[.[] | {name: .name, size: .size}]' > tmp/assets-sizes.json",
    "export:code": "yarn run clean:temp && scripts/export_code.sh",
    "export:commonvoice": "scripts/common-voice-export/export.sh",
    "export:db": "scripts/export_db.sh",
    "fix": "concurrently -g --timings 'yarn:fix:*'",
    "fix:composer": "tools/composer run composer-normalize",
    "fix:eslint": "eslint --fix 'scripts/*.js' 'src/js/*.js' 'tests/*/*.ts'",
    "fix:php-cs-fixer": "tools/composer run php-cs-fixer",
    "fix:phpcbf": "tools/composer run phpcbf",
    "fix:prettier": "prettier --write .",
    "fix:rector": "tools/composer run rector",
    "fix:shfmt": "find scripts -type f -name '*.sh' -exec shfmt --list --write --case-indent --space-redirects --simplify --indent 4 {} \\;",
    "fix:stylelint": "stylelint --fix src/css/",
    "fix:yamlfmt": "yamlfmt",
    "generate:reports": "scripts/generate_reports.sh",
    "import:commonvoice": "scripts/common-voice-export/import.sh",
    "install:db": "scripts/install.sh",
    "lint": "concurrently -g --timings 'yarn:lint:*(!schema)'",
    "lint:composer": "tools/composer validate --strict",
    "lint:config-prettier": "eslint-config-prettier 'scripts/*.js' 'src/js/*.js' 'tests/*/*.ts'",
    "lint:css": "stylelint src/css/",
    "lint:docker": "hadolint .docker/*Dockerfile",
    "lint:editorconfig": "editorconfig-checker",
    "lint:eslint": "eslint --report-unused-disable-directives 'scripts/*.js' 'src/js/*.js' 'tests/*/*.ts'",
    "lint:markdown": "markdownlint *.md",
    "lint:php-cs-fixer": "tools/composer run php-cs-fixer-lint",
    "lint:phpcs": "tools/composer run phpcs",
    "lint:prettier": "prettier --check .",
    "lint:schema": "v8r",
    "lint:shellcheck": "find scripts -type f -name '*.sh' -not -name '*.generated.sh' -exec shellcheck {} \\;",
    "lint:shfmt": "find scripts -type f -name '*.sh' -not -name '*.generated.sh' -exec shfmt --list --diff --case-indent --space-redirects --simplify --indent 4 {} \\;",
    "lint:xml": "xmllint --noout *.xml docroot/*.xml .phive/phars.xml",
    "lint:yaml-lint": "tools/composer yaml-lint",
    "lint:yamlfmt": "yamlfmt -lint -quiet",
    "lint:yamllint": "yamllint . .yamlfmt --strict",
    "optimize:images": "php scripts/image-convertor/app.php",
    "optimize:svg": "svgo --multipass -r --folder docroot/img",
    "outdated": "concurrently -g --timings 'yarn:outdated:*'",
    "outdated:composer": "tools/composer outdated --direct",
    "outdated:phive": "tools/phive outdated",
    "outdated:yarn": "yarn outdated",
    "postinstall": "tools/phive install --force-accept-unsigned && tools/composer install && npx playwright install",
    "prepare": "husky install",
    "prepare:deploy": "yarn run export:db && yarn run test && yarn run export:commonvoice && yarn run generate:reports",
    "refresh:test-data": "node scripts/refresh-test-data.js",
    "test": "yarn run test:e2e && yarn run test:unit && yarn run test:html-quality && yarn run test:core-vitals && yarn run check:certificate",
    "test:core-vitals": "scripts/audit_website.sh",
    "test:e2e": "playwright test",
    "test:html-quality": "scripts/validate_website.sh",
    "test:unit": "tools/composer run phpunit",
    "update": "concurrently -g --timings 'yarn:update:*(!os-packages)'",
    "update-all": "concurrently -g --timings 'yarn:update:*' && yarn update-yarn-all && yarn fix && yarn check:code",
    "update-yarn-all": "yarn upgrade --silent",
    "update:apc-gui": "scripts/update.sh apc-gui",
    "update:composer": "scripts/update.sh composer",
    "update:docker": "concurrently --restart-tries -1 'scripts/update.sh docker'",
    "update:mvn": "scripts/update.sh mvn",
    "update:opcache-gui": "scripts/update.sh opcache-gui",
    "update:os-packages": "scripts/update.sh os-packages",
    "update:pecl": "scripts/update.sh pecl",
    "update:phive": "scripts/update.sh phive",
    "update:yarn": "scripts/update.sh yarn"
  },
  "keywords": [
    "catalan",
    "català",
    "common voice",
    "diccionari",
    "dites populars",
    "frases fetes",
    "idioms",
    "locucions",
    "online dictionary",
    "paremiologia",
    "paremiotipus",
    "parèmies",
    "proverbs",
    "proverbis",
    "refranys"
  ],
  "devDependencies": {
    "@playwright/test": "^1.35.0",
    "@size-limit/file": "^8.2.4",
    "@typescript-eslint/eslint-plugin": "^5.59.11",
    "@typescript-eslint/parser": "^5.59.11",
    "clean-css-cli": "^5.6.2",
    "concurrently": "^8.2.0",
    "dotenv": "^16.1.4",
    "editorconfig-checker": "^5.0.1",
    "eslint": "^8.42.0",
    "eslint-config-prettier": "^8.8.0",
    "eslint-plugin-compat": "^4.1.4",
    "eslint-plugin-no-unsanitized": "^4.0.2",
    "eslint-plugin-playwright": "^0.12.0",
    "eslint-plugin-unicorn": "^47.0.0",
    "hint": "^7.1.9",
    "html-validate": "^8.0.3",
    "htmlhint": "^1.1.4",
    "husky": "^8.0.3",
    "lighthouse": "^10.2.0",
    "linkinator": "^5.0.1",
    "markdownlint-cli": "^0.34.0",
    "prettier": "^2.8.8",
    "prettier-plugin-package": "^1.3.0",
    "size-limit": "^8.2.4",
    "stylelint": "^15.7.0",
    "stylelint-config-recess-order": "^4.2.0",
    "stylelint-config-standard": "^33.0.0",
    "svgo": "^3.0.2",
    "terser": "^5.18.0",
    "typescript": "^5.1.3",
    "v8r": "^2.0.0"
  }
}
